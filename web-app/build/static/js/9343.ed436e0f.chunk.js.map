{"version":3,"file":"static/js/9343.ed436e0f.chunk.js","mappings":"wOAwBA,MA2DA,EA3DiBA,KACf,MAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MAEXC,GAAeC,EAAAA,EAAAA,IAAaC,GAAoBA,EAAMC,OAAOC,UAC7DC,GAAsBJ,EAAAA,EAAAA,IACzBC,GAAoBA,EAAMI,QAAQD,sBAGrCE,EAAAA,EAAAA,WAAU,KACRX,GAASY,EAAAA,EAAAA,OACR,CAACZ,IAEJ,MAAMa,GAAgBR,EAAAA,EAAAA,IACnBC,GAAoBA,EAAMQ,MAAMD,eAE7BE,GAA4BV,EAAAA,EAAAA,IAC/BC,GAAoBA,EAAMQ,MAAMC,2BAuCnC,OArCAJ,EAAAA,EAAAA,WAAU,KACJI,GACFf,GAASgB,EAAAA,EAAAA,OAEV,CAACD,EAA2BN,EAAqBT,KAEpDW,EAAAA,EAAAA,WAAU,KACR,IAAKI,EAA2B,CAC9B,GAAKX,EAiBH,YADAF,EAAS,WAfT,GAAIW,EAAcA,gBAAkBI,EAAAA,EAAkBC,SAYpD,YADAhB,EAAS,SAVT,GACEW,EAAcM,eACdN,EAAcM,cAAcC,OAAS,GAEjCP,EAAcM,cAAc,GAAGD,SAEjC,YADAG,OAAOC,SAASC,KAAOV,EAAcM,cAAc,GAAGD,SAYhE,GACC,CACDH,EACAN,EACAL,EACAS,EACAb,EACAE,KAGKsB,EAAAA,EAAAA,KAACC,EAAAA,EAAgB,I","sources":["screens/LoginPage/SSOLogin.tsx"],"sourcesContent":["// This file is part of Console Server\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { loginStrategyType } from \"./login.types\";\nimport { AppState, useAppDispatch } from \"../../store\";\nimport { useSelector } from \"react-redux\";\nimport { getFetchConfigurationAsync } from \"./loginThunks\";\nimport { fetchSession } from \"./sessionThunk\";\nimport LoadingComponent from \"common/LoadingComponent\";\n\nconst SSOLogin = () => {\n  const dispatch = useAppDispatch();\n  const navigate = useNavigate();\n\n  const userLoggedIn = useSelector((state: AppState) => state.system.loggedIn);\n  const sessionLoadingState = useSelector(\n    (state: AppState) => state.console.sessionLoadingState,\n  );\n\n  useEffect(() => {\n    dispatch(fetchSession());\n  }, [dispatch]);\n\n  const loginStrategy = useSelector(\n    (state: AppState) => state.login.loginStrategy,\n  );\n  const loadingFetchConfiguration = useSelector(\n    (state: AppState) => state.login.loadingFetchConfiguration,\n  );\n  useEffect(() => {\n    if (loadingFetchConfiguration) {\n      dispatch(getFetchConfigurationAsync());\n    }\n  }, [loadingFetchConfiguration, sessionLoadingState, dispatch]);\n\n  useEffect(() => {\n    if (!loadingFetchConfiguration) {\n      if (!userLoggedIn) {\n        if (loginStrategy.loginStrategy === loginStrategyType.redirect) {\n          if (\n            loginStrategy.redirectRules &&\n            loginStrategy.redirectRules.length > 0\n          ) {\n            if (loginStrategy.redirectRules[0].redirect) {\n              window.location.href = loginStrategy.redirectRules[0].redirect;\n              return;\n            }\n          }\n        } else {\n          navigate(\"login\");\n          return;\n        }\n      } else {\n        navigate(\"browser\");\n        return;\n      }\n    }\n  }, [\n    loadingFetchConfiguration,\n    sessionLoadingState,\n    userLoggedIn,\n    loginStrategy,\n    dispatch,\n    navigate,\n  ]);\n\n  return <LoadingComponent />;\n};\n\nexport default SSOLogin;\n"],"names":["SSOLogin","dispatch","useAppDispatch","navigate","useNavigate","userLoggedIn","useSelector","state","system","loggedIn","sessionLoadingState","console","useEffect","fetchSession","loginStrategy","login","loadingFetchConfiguration","getFetchConfigurationAsync","loginStrategyType","redirect","redirectRules","length","window","location","href","_jsx","LoadingComponent"],"sourceRoot":""}